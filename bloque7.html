<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bloque 7 – Generador de impulsos asíncronos | Proyecto PLC – ICC 2025</title>
  <style>
    :root{
      --bg:#f4f6f8;
      --card:#ffffff;
      --accent1:#ff8c00;
      --accent2:#6610f2;
      --text:#111827;
      --muted:#6b7280;
      --glass: rgba(255,255,255,0.7);
      --shadow: 0 10px 30px rgba(16,24,40,0.08);
      --radius:14px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: "Inter", "Segoe UI", Roboto, Arial, sans-serif;
      background:
        radial-gradient(1200px 600px at 10% 10%, rgba(102,16,242,0.06), transparent 12%),
        radial-gradient(900px 400px at 90% 90%, rgba(255,140,0,0.04), transparent 12%),
        var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
    }

    header{
      position:relative;
      height:220px;
      overflow:hidden;
      background:linear-gradient(180deg,#08121c 0%, #0b1220 60%);
      display:flex;
      align-items:center;
      justify-content:center;
      color:#fff;
    }
    header .cabecera-texto{ position:relative; z-index:6; text-align:center; pointer-events:none; }
    header .cabecera-texto h1{ margin:0; font-size:1.6rem; letter-spacing:0.4px }
    header .cabecera-texto p{ margin:6px 0 0; opacity:0.95; font-size:0.9rem }
    #uan{ position:absolute; width:120px; top:50%; left:12%; transform:translateY(-50%); z-index:5; }
    #mexico{ position:absolute; top:0; right:-60%; width:100%; height:100%; object-fit:cover; z-index:2; filter:brightness(0.5); opacity:0.9; }

    main { padding:28px 18px 80px; max-width:1100px; margin: -40px auto 0; }

    .card {
      background: linear-gradient(180deg, rgba(255,255,255,0.96), var(--card));
      border-radius:var(--radius);
      padding:22px;
      box-shadow:var(--shadow);
      border: 1px solid rgba(16,24,40,0.04);
      overflow:hidden;
    }

    .hero {
      display:flex;
      align-items:center;
      gap:18px;
      margin-bottom:14px;
      flex-wrap:wrap;
    }

    .badge {
      background: linear-gradient(90deg,var(--accent2), #a46cff);
      color:white;
      padding:10px 14px;
      border-radius:12px;
      font-weight:800;
      font-size:0.95rem;
      box-shadow: 0 8px 24px rgba(102,16,242,0.12);
    }

    .title { flex:1 1 auto; }
    .title h2{ margin:0; font-size:1.4rem; letter-spacing:0.2px }
    .title p{ margin:6px 0 0; color:var(--muted); font-size:0.95rem }

    .actions { display:flex; gap:10px; align-items:center; }

    .btn {
      display:inline-block;
      padding:10px 14px;
      border-radius:10px;
      background:#0b1220;
      color:#fff;
      text-decoration:none;
      font-weight:700;
      font-size:0.95rem;
      border:0;
      box-shadow: 0 8px 26px rgba(11,18,32,0.12);
    }
    .btn.secondary{
      background:transparent;
      color:var(--text);
      border:1px solid rgba(16,24,40,0.06);
    }

    .layout { display:grid; grid-template-columns: 1fr 300px; gap:18px; align-items:start; }

    .main-media{
      background:linear-gradient(180deg,#fff,#fbfbff);
      border-radius:12px;
      padding:14px;
      border:1px solid rgba(16,24,40,0.04);
      box-shadow: 0 6px 18px rgba(13,20,30,0.04);
    }

    .img-large{ width:100%; height:auto; border-radius:10px; display:block; object-fit:contain; box-shadow: 0 8px 28px rgba(16,24,40,0.06); border:1px solid rgba(16,24,40,0.03); cursor:zoom-in; }

    .meta { display:flex; gap:10px; margin-top:10px; align-items:center; flex-wrap:wrap; }
    .muted{ color:var(--muted) }
    .kpi { background:rgba(6,10,20,0.03); border-radius:10px; padding:8px 10px; font-weight:700; color:var(--muted); font-size:0.9rem }

    .content-block { margin-top:14px; font-size:1rem; color:var(--text); }
    .content-block h3{ margin:0 0 10px 0; font-size:1.05rem }
    .content-block p{ margin:0 0 12px 0; color:var(--text) }

    .visuals { display:grid; grid-template-columns:repeat(2,1fr); gap:20px; margin-top:16px; }
    .visuals img{ width:100%; border-radius:8px; box-shadow: 0 8px 20px rgba(16,24,40,0.05); border:1px solid rgba(16,24,40,0.03); display:block; cursor:zoom-in; }

    .pinout { margin:8px 0 0 0; padding-left:18px; color:var(--text); }
    .pinout dt { font-weight:800; margin-top:8px; }
    .pinout dd { margin:4px 0 8px 0; color:var(--muted); }

    aside.card-side{ position:sticky; top:22px; align-self:start; padding:14px; border-radius:12px; background:linear-gradient(180deg,#fff,#fbfbff); box-shadow: 0 6px 18px rgba(13,20,30,0.04); border:1px solid rgba(16,24,40,0.04); }
    aside .side-title{ font-weight:800; margin-bottom:8px }
    aside ul{ padding-left:18px; margin:8px 0 0 0; color:var(--muted) }
    aside .download-btn { display:block; margin-top:12px; text-align:center; padding:10px 12px; border-radius:10px; background:linear-gradient(90deg,var(--accent2), #9b5cff); color:#fff; text-decoration:none; font-weight:800; box-shadow: 0 10px 30px rgba(102,16,242,0.12); }

    footer{ margin-top:36px; background:#0b1220; color:#ffffff; padding:22px 18px; text-align:center; border-top:6px solid rgba(255,140,0,0.08); }

    .lightbox-overlay { position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(2,6,23,0.75); z-index:9999; padding:20px; }
    .lightbox-overlay.active { display:flex; }
    .lightbox-content { position:relative; max-width:calc(100% - 80px); max-height:calc(100% - 80px); display:flex; flex-direction:column; gap:8px; align-items:center; justify-content:center; }
    .lightbox-img { max-width:100%; max-height:100%; border-radius:8px; box-shadow: 0 12px 40px rgba(2,6,23,0.6); background:#fff; object-fit:contain; }
    .lightbox-caption { color:#fff; font-size:0.95rem; text-align:center; }
    .lightbox-close { position:absolute; top:-8px; right:-8px; background:#111; color:#fff; border-radius:999px; padding:6px 10px; border:0; cursor:pointer; font-weight:700; }

    @media (max-width:920px){ .layout{ grid-template-columns: 1fr; } aside.card-side{ position:relative; top:0 } header{ height:200px } #uan{ width:110px; left:8% } .visuals{ grid-template-columns:1fr 1fr } }
    @media (max-width:560px){ .visuals{ grid-template-columns:1fr } }

  </style>
</head>
<body>

  <header id="mainHeader">
    <img id="mexico" src="mexico.png" alt="Bandera de México" aria-hidden="true">
    <img id="uan" src="uan.png" alt="Logo UAN">
    <div class="cabecera-texto">
      <h1>Proyecto PLC – ICC 2025</h1>
      <p>Autores: Carlos Adonaí Talamantes González &amp; Miguel Muro Rodríguez — Ingeniería en Computación | Universidad Autónoma de Nayarit</p>
    </div>
  </header>

  <main>
    <div class="card" role="main" aria-labelledby="bloque-title">
      <div class="hero" role="banner">
        <div class="badge">Bloque 7</div>
        <div class="title">
          <h2 id="bloque-title">7. Generador de impulsos asíncronos</h2>
          <p class="muted">Generador de onda cuadrada con tiempos programables de impulso y pausa; opera de forma continua cuando está habilitado.</p>
        </div>

        <div class="actions" aria-hidden="false">
          <a href="index.html" class="btn" title="Volver al inicio">← Inicio</a>
          <a href="#descargar" class="btn secondary" title="Ir a la descarga">Ir a descarga</a>
        </div>
      </div>

      <div class="layout">
        <div>
          <div class="main-media">
            <img src="bloques/bloque7.png" alt="Bloque 7 - icono/esquema" class="img-large" tabindex="0" role="button" aria-label="Abrir imagen en grande">

            <div class="meta" aria-hidden="true">
              <span class="kpi">Tipo: Generador asíncrono</span>
              <span class="kpi">Entradas: En, Inv, Par</span>
              <span class="kpi">Salida: Q</span>
            </div>

            <div class="content-block" id="descripcion-bloque">
              <h3>Descripción</h3>

              <p id="descripcion">
                El Generador de impulsos asíncrono produce una señal de salida periódica que alterna entre encendido y apagado de forma continua, sin depender de una entrada de disparo. Su funcionamiento se basa en dos tiempos programables: duración de impulso (tiempo encendido) y duración de pausa (tiempo apagado). Una vez habilitado, el bloque genera pulsos de manera indefinida, formando una onda cuadrada temporizada. Este generador opera de forma asíncrona, lo que significa que continúa trabajando independientemente del ciclo del programa o de otras funciones del controlador, manteniendo la frecuencia y el duty cycle establecidos.
              </p>

              <h3>Pinout y descripción de conexiones</h3>

              <dl class="pinout" aria-labelledby="pinout-title">
                <dt>Entrada (En)</dt>
                <dd>
                  Habilita o inicia el generador de impulsos. Cuando esta entrada está activa, el bloque comienza a generar la secuencia de impulsos (encendido y apagado) de forma continua según los parámetros configurados. Si la entrada se desactiva, la salida se apaga y el generador se detiene.
                </dd>

                <dt>Entrada invertida (Inv)</dt>
                <dd>
                  Funciona como habilitación por lógica inversa. El generador se activa cuando esta entrada está en nivel bajo y se detiene cuando está en nivel alto. Se utiliza cuando se desea controlar el generador con señal negada sin necesidad de un bloque adicional de inversión.
                </dd>

                <dt>Parámetro (Par)</dt>
                <dd>
                  Permite ajustar externamente los valores de tiempo del bloque (ancho de impulso y pausa) desde otra parte del programa. Si no se utiliza, el bloque trabaja con los valores definidos dentro de su configuración.
                </dd>

                <dt>Salida (Q)</dt>
                <dd>
                  Señal pulsante generada por el bloque. Alterna entre encendido (durante el ancho de impulso) y apagado (durante la pausa) mientras la entrada habilitadora esté activa.
                </dd>
              </dl>

              <h3 style="margin-top:8px">Notas de uso</h3>
              <ul style="color:var(--muted); margin-top:6px">
                <li>Útil para generar señales periódicas independientes del ciclo lógico del programa.</li>
                <li>Ajustar impulso y pausa para adaptar frecuencia y duty cycle a la aplicación.</li>
              </ul>

              <div class="visuals" aria-label="Visuales">
                <figure style="margin:0">
                  <img src="visual/visual7s.png" alt="Visual corto (visual7s)" tabindex="0" role="button" aria-label="Abrir imagen visual corto">
                  <figcaption class="muted" style="font-size:0.86rem; margin-top:6px">Visual corto — visual/visual7s.png</figcaption>
                </figure>

                <figure style="margin:0">
                  <img src="visual/visual7d.png" alt="Visual detallado (visual7d)" tabindex="0" role="button" aria-label="Abrir imagen visual detallado">
                  <figcaption class="muted" style="font-size:0.86rem; margin-top:6px">Visual detallado — visual/visual7d.png</figcaption>
                </figure>
              </div>
            </div>

          </div>
        </div>

        <aside class="card-side" aria-labelledby="side-title">
          <div id="side-title" class="side-title">Acciones</div>

          <div>
            <strong class="muted">Descarga del programa</strong>
            <a id="descargar" href="programa/Bloque7.lsc" class="download-btn" download title="Descargar programa Bloque7">Descargar Bloque7</a>
            <p class="muted" style="font-size:0.86rem; margin-top:8px">Ruta: /programa/Bloque7.lsc.</p>
          </div>

          <div style="margin-top:12px">
            <strong class="muted">Parámetros sugeridos</strong>
            <ul>
              <li>Ancho de impulso y pausa configurables</li>
              <li>Habilitación por entrada o por entrada invertida</li>
            </ul>
          </div>

          <div style="margin-top:12px">
            <a href="index.html" class="btn" style="width:100%; display:inline-block; text-align:center">Volver al inicio</a>
          </div>
        </aside>
      </div>
    </div>
  </main>

  <div id="lightbox" class="lightbox-overlay" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="lightbox-content">
      <button class="lightbox-close" aria-label="Cerrar imagen">&times;</button>
      <img src="" alt="" class="lightbox-img">
      <div class="lightbox-caption" id="lightbox-caption" aria-live="polite"></div>
    </div>
  </div>

  <footer>
    <div style="max-width:1100px;margin:0 auto;">
      <p>© 2025 | Proyecto PLC - ICC 2025 | Carlos Adonaí Talamantes González &amp; Miguel Muro Rodríguez</p>
      <p>Profesor: Ingeniero Ignacio Chávez Arcega | Materia: PLC</p>
      <div class="redes">
        <a href="https://www.facebook.com/share/14NZuwbbVwg/" target="_blank">Facebook de Carlos</a>
        <a href="https://www.facebook.com/share/1EZ4xDHeC3/" target="_blank">Facebook de Miguel</a>
      </div>
    </div>
  </footer>

  <script>
    (function(){
      const lightbox = document.getElementById('lightbox');
      const lbImg = lightbox.querySelector('.lightbox-img');
      const lbCaption = document.getElementById('lightbox-caption');
      const lbClose = lightbox.querySelector('.lightbox-close');

      function openLightbox(src, alt, captionText) {
        lbImg.src = src;
        lbImg.alt = alt || '';
        lbCaption.textContent = captionText || '';
        lightbox.classList.add('active');
        lightbox.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
        lbClose.focus();
      }

      function closeLightbox() {
        lightbox.classList.remove('active');
        lightbox.setAttribute('aria-hidden', 'true');
        lbImg.src = '';
        lbImg.alt = '';
        lbCaption.textContent = '';
        document.body.style.overflow = '';
      }

      const clickables = document.querySelectorAll('.img-large, .visuals img');
      clickables.forEach(img => {
        img.addEventListener('click', () => {
          openLightbox(img.src, img.alt, img.getAttribute('data-caption') || img.alt || '');
        });
        img.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            openLightbox(img.src, img.alt, img.getAttribute('data-caption') || img.alt || '');
          }
        });
      });

      lbClose.addEventListener('click', closeLightbox);
      lightbox.addEventListener('click', (e) => {
        if (e.target === lightbox) closeLightbox();
      });
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && lightbox.classList.contains('active')) closeLightbox();
      });
    })();
  </script>
</body>
</html>
